languagesystem DFLT dflt;
languagesystem gjr2 dflt;
languagesystem gujr dflt;

#include (gdef.fea)
include (markclasses.fea);
include (lookups.fea);


#################
# BASIC SHAPING #
#################


feature blwf { # Below-Base Forms

script DFLT;
	language dflt;
		lookup blwf_gjr2 {
			sub gjVirama gjRa by gjRakar;
		} blwf_gjr2;

		lookup blwf_gujr {
			sub gjRa gjVirama by gjRakar;
		} blwf_gujr;

script gjr2;
	language dflt;
		lookup blwf_gjr2;

script gujr;
	language dflt;
		lookup blwf_gujr;

} blwf;


# RAKAR FORMS
##############

feature rkrf {

	script DFLT;
		lookup rkrf_new;

	script gjr2;
		lookup rkrf_new;

} rkrf;


# HALF FORMS
#############

feature half {

	script DFLT;
		lookup half;

	script gjr2;
		lookup half;

	script gujr;
		lookup half;

} half;


# CONJUNCTS
############

feature cjct {
	lookup cjct;
} cjct;

# MANDATORY PRESENTATION FORMS 

feature pres {
	lookup pres;
} pres;


# HALANT FORMS
###############

feature haln {
	lookup haln;
} haln;


# BELOW-BASE SUBSTITUTIONS
###########################

feature blws {
	
	sub gjKa gjRakar by gjKRa;
	sub gjKha gjRakar by gjKhRa;
	sub gjGa gjRakar by gjGRa;
	sub gjGha gjRakar by gjGhRa;
	sub gjNga gjRakar by gjNgRa;

	sub gjCa gjRakar by gjCRa;
	sub gjCha gjRakar by gjChRa;
	sub gjJa gjRakar by  gjJRa;
	sub gjJha gjRakar by gjJhRa;
	sub gjNya gjRakar by gjNyRa;

	sub gjTta gjRakar by gjTtRa;
	sub gjTtha gjRakar by gjTthRa;
	sub gjDda gjRakar by gjDdRa;
	sub gjDdha gjRakar by gjDdhRa;
	sub gjNna gjRakar by gjNnRa;

	sub gjTa gjRakar by gjTRa;
	sub gjTha gjRakar by gjThRa;
	sub gjDa gjRakar by gjDRa;
	sub gjDha gjRakar by gjDhRa;
	sub gjNa gjRakar by gjNRa;

	sub gjPa gjRakar by gjPRa;
	sub gjPha gjRakar by gjPhRa;
	sub gjBa gjRakar by gjBRa;
	sub gjBha gjRakar by gjBhRa;
	sub gjMa gjRakar by gjMRa;

	sub gjYa gjRakar by gjYRa;
	sub gjLa gjRakar by gjLRa;
	sub gjVa gjRakar by gjVRa;
	sub gjSha gjRakar by gjShRa;
	sub gjSsa gjRakar by gjSsRa;
	sub gjSa gjRakar by gjSRa;
	sub gjHa gjRakar by gjHRa;

} blws;


# DISTANCE
###########

feature dist {
	lookup dist;
} dist;


# ABOVE_BASE MARKS
###################

feature abvm {
	lookup abvm;
} abvm;


# BELOW-BASE MARKS
###################

feature blwm {
	lookup blwm;
} blwm;

# CONTEXTUAL ATERNATES
#######################

feature calt {
	lookup halfForm_calt;
} calt;